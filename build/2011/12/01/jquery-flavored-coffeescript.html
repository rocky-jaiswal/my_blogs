<!DOCTYPE html>
<html>
  <head>
    <title>Rocky Jaiswal</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <link href="/stylesheets/app.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/bootstrap.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/bootstrap-responsive.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="/javascripts/bootstrap.js" type="text/javascript"></script>
    <link href='http://fonts.googleapis.com/css?family=Ultra|Bad+Script' rel='stylesheet' type='text/css'>
  </head>

  <body>
    <div class="banner">
      <div class="container">
        <h1>
          <a class="head" href="/">Still Learning ...</a>
        </h1>
        <p style="font-family: 'Bad Script'; font-size: 1.4em;">Musings of an agile developer</p>
      </div>
    </div>

    <div id="main" role="main" class="container">
      <div class="row">
        <div class="span12">
          <div id="main" role="main">
            <article>
              <h2>
                  <span class="color-orange">jQuery flavored CoffeeScript</span> 
                  <span>Dec  1 2011</span>
              </h2>
              
              <div class="post">
                <p>After much discussion, Rails 3.1 included CoffeeScript by default. The inclusion of CoffeeScript in Rails is a testament of the quality and popularity of CoffeeScript.</p>

<p>So in a Rails 3.1 application if you do - bundle exec rails g controller Pages home</p>

<p>You get an output like the following -</p>

<pre><code>create  app/controllers/pages_controller.rb
      route  get &quot;pages/home&quot;
      ...
      invoke  assets
      invoke    coffee
      create      app/assets/javascripts/pages.js.coffee</code></pre>

<p>As you can see from the output above Rails will generate a .coffee file for you with the controller.</p>

<p>CoffeeScript is a beautiful language and enables you to write clean code and escape the nuances of JavaScript.</p>

<p>A function declaration in CoffeeScript is as simple as</p>

<pre><code>greeter = -&gt; &quot;Hello World!&quot;</code></pre>

<p>The two keys in CoffeeScript &#8220;-&#8221; and &#8221;&gt;&#8221; are enough to declare a function in JavaScript.</p>

<p>With these things in mind, I decided to write jQuery code in JavaScript. After all, if we intend to write JavaScript for our web application there is no escaping jQuery.</p>

<p>Lets say our haml/html is like</p>

<pre><code>%h1 Hello World!
= link_to &quot;Click Me&quot;, &quot;#&quot;, {:id =&gt; &quot;click_me_link&quot;}
.message{:style =&gt; &quot;visibility:hidden&quot;}
	Say hello to my new friend!</code></pre>

<p>Which renders to - <img alt='coffee' src='/images/hello_coffee.jpg' /></p>

<p>Nothing much going on here. To test jQuery, all we need to write is -</p>

<pre><code>$ -&gt; alert(&quot;jQuery works!&quot;)</code></pre>

<p>That&#8217;s it!!</p>

<p>this translates to -</p>

<pre><code>$(function() {
    return alert(&quot;jQuery Works!!&quot;);
  });</code></pre>

<p>So in CoffeeScript, intializing jQuery amounts to writing <strong>&#8221;$ -&gt;&#8221;</strong></p>

<p>Now let&#8217;s write a simple function to make a hidden div visible.</p>

<pre><code>$ -&gt; $(&quot;#click_me_link&quot;).click(show_message)
show_message = -&gt; $(&quot;.message&quot;).css(&quot;visibility&quot;, &quot;visible&quot;)</code></pre>

<p>this converts to -</p>

<pre><code>$(function() {
    return $(&quot;#click_me_link&quot;).click(show_message);
  });

  show_message = function() {
    return $(&quot;.message&quot;).css(&quot;visibility&quot;, &quot;visible&quot;);
  };</code></pre>

<p>The CoffeeScript code above is pretty clean and self explanatory. The most important thing is that I have just written two lines of <strong>clean</strong> code (it can even be compressed to one), this typically converts to 6 lines of JavaScript (even if we forget the curly braces and the parentheses).</p>

<p>So go forth my friend and write your JavaScript code in CoffeeScript and make your life simpler!</p>
              </div>

              <hr/>

              <div id="disqus_thread"></div>
                <script type="text/javascript">
                    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                    var disqus_shortname = 'rockyj'; // required: replace example with your forum shortname

                    /* * * DON'T EDIT BELOW THIS LINE * * */
                    (function() {
                        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    })();
                </script>
                <noscript>
                  Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
                </noscript>
                <a href="http://disqus.com" class="dsq-brlink">
                  blog comments powered by <span class="logo-disqus">Disqus</span>
                </a>
            </article>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>