<!DOCTYPE html>
<html>
  <head>
  <title>Rocky Jaiswal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8" />
  <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
  <link href="/stylesheets/bootstrap.css" media="screen" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/bootstrap-responsive.css" media="screen" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/app.css" media="screen" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/github.css" media="screen" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/punchable.css" media="screen" rel="stylesheet" type="text/css" />
  <script src="/javascripts/jquery.js" type="text/javascript"></script>
  <script src="/javascripts/bootstrap.js" type="text/javascript"></script>
  <script src="/javascripts/highlight.pack.js" type="text/javascript"></script>
</head>
  <body>
    <div class="banner navbar-fixed-top">
  <div class="container">
    <h1>
      <a class="head" href="/"><img src="/images/rockyj_banner.png"/></a>
    </h1>
  </div>
</div>
    <div id="main" role="main" class="container">
      <div class="row">
        <div class="span9">
          <div id="main" role="main">
            <article>
              <h2 style="padding-bottom: 10px;">
                  <span class="color-orange">Building HTML5 Apps with Yeoman and Backbone</span> 
                  <span>May 11 2013</span>
              </h2>
              <div class="post">
                <p>In my last few blogs I talked a bit about <a href='http://yeoman.io'>Yeoman</a>. For me, working with Yeoman has been a real pleasure, so in this blog I will talk about building a small single page HTML5 application with Yeoman and <a href='http://backbonejs.org/'>Backbone.js</a>.</p>

<p>The software we need for this exercise are -</p>

<ul>
<li>Node.js</li>

<li>NPM</li>

<li>Ruby</li>

<li>Sass and Compass Gems for Ruby</li>
</ul>

<p>Before we start a few words about Yeoman.</p>

<p><img alt='Yeoman' src='https://raw.github.com/yeoman/yeoman.io/gh-pages/media/toolset.png' /></p>

<p>If I were to explain Yeoman in a few words, it is a collection of three tools -</p>

<ul>
<li>Yo : for scaffolding apps</li>

<li>Grunt: The JavaScript build tool</li>

<li>Bower: Package / dependency management for client side JavaScript libs</li>
</ul>

<p>So without further ado, let us install these tools -</p>

<pre><code>sudo npm install -g yo
sudo npm install -g grunt-cli
sudo npm install -g bower</code></pre>

<p><strong>As pointed in comments below - Please do not used sudo unless you know what you are doing. <em>You may need to modify your $PATH to get the &#8220;yo&#8221;, &#8220;grunt&#8221; commands.</em></strong></p>

<p>To generate a backbone.js based application with Yo, we need to install the &#8220;backbone-generator&#8221;</p>

<pre><code>sudo npm install -g generator-backbone</code></pre>

<p>There are a few community driven generators (for angular as well) you may want to check them out.</p>

<p>Now let us generate our project</p>

<pre><code>mkdir &lt;my-app-name&gt;
cd &lt;my-app-name&gt;
yo backbone --template-framework=handlebars</code></pre>

<p>Select &#8220;Y&#8221; for Require.js support and Twitter Bootstrap with sass. And finally inside your application directory run -</p>

<pre><code>npm install
bower install</code></pre>

<p>To install all the npm (e.g. mocha) and bower packages (e.g. jquery) needed.</p>

<p>That&#8217;s it. If your machine and network behaved well, you should have everything setup and you can now run -</p>

<pre><code>grunt server</code></pre>

<p>The default app which says &#8220;Allo! Allo!&#8221; should be working now.</p>

<p>Great! We now have the default application up and working. You can go crazy from here or if you want you can read on a bit.</p>

<p>If you look at the index.html file, you can see that require.js loads the main.js file as the main JavaScript file (what a coincidence!) from which other JS files are loaded as required.</p>

<p>If you are a CoffeeScript lover like me you can convert the main.js file to main.coffee (using http://js2coffee.org maybe) to make it much more readable.</p>

<p>Next for our backbone setup, we can create the backbone folder structure in our scripts folder somewhat like this -</p>

<pre><code>- scripts
  - app
    - models
    - collections
    - router
    - templates
    - views</code></pre>

<p>Since we will be using Handlebars.js for our client side templates, you need to run -</p>

<pre><code>bower install --save handlebars</code></pre>

<p>That&#8217;s it, Bower will download and install Handlebars.js in an appropriate location. Add the path for handlebars in the main.coffee file so that it can be used with Require.js. I have install &#8220;jquery-form&#8221; as well, so my main.coffee looks something like this -</p>

<pre><code>#global require
&quot;use strict&quot;

require.config
  shim:
    underscore:
      exports: &quot;_&quot;

    backbone:
      deps: [&quot;underscore&quot;, &quot;jquery&quot;]
      exports: &quot;Backbone&quot;

    bootstrap:
      deps: [&quot;jquery&quot;]
      exports: &quot;jquery&quot;

    handlebars:
      exports: &quot;Handlebars&quot;

  paths:
    jquery: &quot;../bower_components/jquery/jquery&quot;
    jquery_form: &quot;../bower_components/jquery-form/jquery.form&quot;
    backbone: &quot;../bower_components/backbone-amd/backbone&quot;
    underscore: &quot;../bower_components/underscore-amd/underscore&quot;
    bootstrap: &quot;vendor/bootstrap&quot;
    text: &quot;../bower_components/requirejs-text/text&quot;
    handlebars: &quot;../bower_components/handlebars.js/handlebars&quot;

require [&quot;backbone&quot;, &quot;app/router/router&quot;], (Backbone, AppRouter) -&gt;
  router = new AppRouter()
  Backbone.history.start()</code></pre>

<p>That&#8217;s it! From here you can build your standard Backbone + Require.js application.</p>

<p>One of the main advantages of using Require.js with Yeoman is that once you run -</p>

<pre><code>grunt</code></pre>

<p>It will create an awesome minified, unified, uglified build for you inside the dist/ directory which you can use in production. The final build has one css and one JS file for the entire application which is awesome.</p>

<p>Also, Grunt provides all the tools needed to test our application while building it(Karma, Mocha, Chai etc.).</p>

<p>One gotcha, by default Grunt will copile coffeescript files in script/ directory but not the coffee files in the sub-directories. To enable compilation of these files change the following lines in Gruntfile.js -</p>

<pre><code>//in watch/coffee config from - files: [&#39;&lt;%= yeoman.app %&gt;/scripts/{,*/}*.coffee&#39;], to
files: [&#39;&lt;%= yeoman.app %&gt;/scripts/**/*.coffee&#39;],

//and in coffee/dist/files from src: &#39;*.coffee&#39;, to
src: &#39;**/*.coffee&#39;,</code></pre>

<p>That&#8217;s it. You have now a great Yeoman + Backbone setup. Code away!</p>

<p>Sample project with this setup is available on <a href='https://github.com/rocky-jaiswal/confi'>Github</a>.</p>
              </div>
              <hr/>
              <div id="disqus_thread"></div>
                <script type="text/javascript">
                  $(function(){
                    hljs.initHighlightingOnLoad();
                    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                    var disqus_shortname = 'rockyj'; // required: replace example with your forum shortname

                    /* * * DON'T EDIT BELOW THIS LINE * * */
                    (function() {
                        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    })();
                  });
                </script>
                <noscript>
                  Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
                </noscript>
                <a href="http://disqus.com" class="dsq-brlink">
                  blog comments powered by <span class="logo-disqus">Disqus</span>
                </a>
            </article>
          </div>
        </div>
        <div id="sidebar">
  <div class="span3">
    <h2>
      <img src="/images/Rocky_Jaiswal.jpg" alt="Rocky Jaiswal" width="121" height="115" style="max-width: 100%;"/>
      <br/>
      <a href="/about">About</a>
    </h2>
    <hr/>
    <h2>
      <a href="https://github.com/rocky-jaiswal" target="_blank">Github</a> /
      <a href="https://twitter.com/whatsuprocky" target="_blank">Twitter</a>
    </h2>
    <hr/>
    <h2>
      <a href="/videos">Videos</a>
    </h2>
    <hr/>
    <h2><a id="show-posts" href="#/posts">Posts</a> / <a id="show-tags" href="#/tags">Tags</a></h2>
    <div class="posts">
      <ol>
        
          <li><a href="/2013/05/11/yeoman_and_backbone.html">Building HTML5 Apps with Yeoman and Backbone</a> <span>May 11 2013</span></li>
        
          <li><a href="/2013/05/03/what_motivates_programmers.html">What motivates programmers</a> <span>May  3 2013</span></li>
        
          <li><a href="/2013/05/02/ajaxify_with_backbone.html">Ajaxify a Form with Backbone</a> <span>May  2 2013</span></li>
        
          <li><a href="/2013/04/08/puppet_in_a_rush.html">Puppet in a rush</a> <span>Apr  8 2013</span></li>
        
          <li><a href="/2013/04/01/building_single_page_applications_and_cors.html">Building Single Page Applications and CORS</a> <span>Apr  1 2013</span></li>
        
          <li><a href="/2013/03/22/integrating_node_and_rails_with_redis.html">Integrating Rails and Node.js via Redis</a> <span>Mar 22 2013</span></li>
        
          <li><a href="/2012/12/13/backbone_and_coffeescript.html">Backbone.js and CoffeeScript - A Perfect Match</a> <span>Dec 13 2012</span></li>
        
          <li><a href="/2012/12/02/serving_rails_from_windows.html">Serving Rails from Windows</a> <span>Dec  2 2012</span></li>
        
          <li><a href="/2012/10/15/why_does_js_require_requirejs.html">Why does JavaScript require Require.js</a> <span>Oct 15 2012</span></li>
        
          <li><a href="/2012/09/22/rails_on_only_jvm.html">Rails on only JVM</a> <span>Sep 22 2012</span></li>
        
          <li><a href="/2012/09/15/akka_with_jruby.html">Akka with JRuby</a> <span>Sep 15 2012</span></li>
        
          <li><a href="/2012/09/09/rails_on_ruby_jruby_a_performance_comparison.html">Running Rails on Ruby or JRuby - A Performance Comparison</a> <span>Sep  9 2012</span></li>
        
          <li><a href="/2012/09/01/deploying_java_apps_with_capistrano.html">Deploying Java applications with Capistrano</a> <span>Sep  1 2012</span></li>
        
          <li><a href="/2012/08/26/accessing_server_data_from_a_native_android_app.html">Accessing server data from a native Android app</a> <span>Aug 26 2012</span></li>
        
          <li><a href="/2012/08/18/why_javascript_is_important.html">Why JavaScript is important</a> <span>Aug 18 2012</span></li>
        
          <li><a href="/2012/06/08/non_tangibles_of_agile.html">The non-tangibles of Agile</a> <span>Jun  8 2012</span></li>
        
          <li><a href="/2012/05/28/moved_to_html.html">Blog moved to pure HTML5, CSS3</a> <span>May 28 2012</span></li>
        
          <li><a href="/2012/05/25/intro_to_backbone_jQuery.html">A gentle introduction to Backbone with jQuery</a> <span>May 25 2012</span></li>
        
          <li><a href="/2012/05/21/video_rubyconf_india.html">Video of my talk with @arunagw at RubyConf India 2012</a> <span>May 21 2012</span></li>
        
          <li><a href="/2012/05/08/setting_up_solr.html">Setting up Solr</a> <span>May  8 2012</span></li>
        
          <li><a href="/2012/03/27/old_jboss_video.html">Old JBoss Video</a> <span>Mar 27 2012</span></li>
        
          <li><a href="/2012/03/26/ruby_conf_india_with_arunagw.html">Slides of my talk with @arunagw in Ruby Conf India 2012</a> <span>Mar 26 2012</span></li>
        
          <li><a href="/2012/03/23/embracing_jruby_1.html">Embracing JRuby - Part 1</a> <span>Mar 23 2012</span></li>
        
          <li><a href="/2012/03/05/musings_on_india_and_technology.html">Musings on India and Technology</a> <span>Mar  5 2012</span></li>
        
          <li><a href="/2012/01/31/job_of_a_software_developer.html">The Job of a Software Developer</a> <span>Jan 31 2012</span></li>
        
          <li><a href="/2011/12/27/configuring-nginx-with-jboss-tomcat.html">Configuring nginx with JBoss / Tomcat</a> <span>Dec 27 2011</span></li>
        
          <li><a href="/2011/12/27/a-weekend-with-couchdb-solr-and-torquebox.html">A weekend with CouchDB, Solr and Torquebox</a> <span>Dec 27 2011</span></li>
        
          <li><a href="/2011/12/01/jquery-flavored-coffeescript.html">jQuery flavored CoffeeScript</a> <span>Dec  1 2011</span></li>
        
          <li><a href="/2011/07/26/and-then-there-was-closure.html">And then there was Closure</a> <span>Jul 26 2011</span></li>
        
          <li><a href="/2011/07/04/the-problem-is-choice.html">The problem is choice</a> <span>Jul  4 2011</span></li>
        
          <li><a href="/2011/06/29/using-spring-for-scheduling-tasks.html">Using Spring for Scheduling Tasks</a> <span>Jun 29 2011</span></li>
        
          <li><a href="/2011/06/25/working-with-oracle-on-linux-ubuntu-fedora.html">Installing Oracle on Linux (Ubuntu / Fedora)</a> <span>Jun 25 2011</span></li>
        
          <li><a href="/2011/06/25/excel-manipulation-and-testing-in-java.html">Excel manipulation and testing in Java</a> <span>Jun 25 2011</span></li>
        
          <li><a href="/2011/06/06/putting-couchdb-and-rails-on-the-cloud.html">Putting CouchDB and Rails on the Cloud</a> <span>Jun  6 2011</span></li>
        
          <li><a href="/2011/05/16/integrating-google-re-captcha-with-a-rails-app.html">Integrating Google Re-Captcha with a Rails app</a> <span>May 16 2011</span></li>
        
          <li><a href="/2011/05/03/the-real-purpose-of-a-sprint-goal.html">The real purpose of a Sprint Goal</a> <span>May  3 2011</span></li>
        
          <li><a href="/2011/05/02/thoughts-of-the-week-24-30-april.html">Thoughts of the week 24 - 30 April</a> <span>May  2 2011</span></li>
        
          <li><a href="/2011/05/02/views-from-across-the-table.html">Views from across the table</a> <span>May  2 2011</span></li>
        
          <li><a href="/2011/04/20/be-happy-to-fail.html">Be Happy to Fail</a> <span>Apr 20 2011</span></li>
        
          <li><a href="/2011/04/14/using-rvm-on-ubuntu-to-install-multiple-versions-of-ruby.html">Using RVM on Ubuntu to install (multiple versions of) Ruby</a> <span>Apr 14 2011</span></li>
        
          <li><a href="/2011/04/11/thoughts-of-the-week-4-10-april.html">Thoughts of the week (4 - 10 April)</a> <span>Apr 11 2011</span></li>
        
          <li><a href="/2011/04/08/mapreduce-in-english.html">MapReduce in English</a> <span>Apr  8 2011</span></li>
        
          <li><a href="/2011/04/01/java-and-ruby-integration-via-soap.html">Java and Ruby integration via SOAP</a> <span>Apr  1 2011</span></li>
        
          <li><a href="/2011/04/01/hello-world.html">Integrating JRuby and Java to create a mini rules engine</a> <span>Apr  1 2011</span></li>
        
          <li><a href="/2011/03/31/integrating-spring-3-with-jpa-2.html">Integrating Spring 3 with JPA 2</a> <span>Mar 31 2011</span></li>
        
          <li><a href="/2011/03/31/accessing-jboss-managed-resources-using-mbeans.html">Accessing JBoss managed resources using MBeans</a> <span>Mar 31 2011</span></li>
        
          <li><a href="/2011/03/31/hello-jquery.html">Hello jQuery!</a> <span>Mar 31 2011</span></li>
        
          <li><a href="/2011/03/31/from-zero-to-a-crud-app-without-writing-a-single-line-of-code-using-jruby.html">From Zero to a CRUD App (without writing a single line of code) using JRuby</a> <span>Mar 31 2011</span></li>
        
          <li><a href="/2011/03/31/google-app-engine-maven-jsf2.html">Google App Engine + Maven + JSF2</a> <span>Mar 31 2011</span></li>
        
          <li><a href="/2011/03/11/big-bad-projects.html">Big bad projects</a> <span>Mar 11 2011</span></li>
        
          <li><a href="/2011/03/01/working-with-git.html">Working with Git</a> <span>Mar  1 2011</span></li>
        
      </ol>
    </div>
    <div class="tags">
      <ol>
        
          <li><a href="/tags/javascript.html">JavaScript (10)</a></li>
        
          <li><a href="/tags/coffeescript.html">CoffeeScript (5)</a></li>
        
          <li><a href="/tags/jruby.html">JRuby (11)</a></li>
        
          <li><a href="/tags/agile.html">Agile (8)</a></li>
        
          <li><a href="/tags/general.html">General (7)</a></li>
        
          <li><a href="/tags/git.html">Git (1)</a></li>
        
          <li><a href="/tags/solr.html">Solr (2)</a></li>
        
          <li><a href="/tags/scala.html">Scala (2)</a></li>
        
          <li><a href="/tags/play.html">Play (1)</a></li>
        
          <li><a href="/tags/require-js.html">Require.js (2)</a></li>
        
          <li><a href="/tags/backbone.html">Backbone (6)</a></li>
        
          <li><a href="/tags/java.html">Java (9)</a></li>
        
          <li><a href="/tags/ruby.html">Ruby (8)</a></li>
        
          <li><a href="/tags/torquebox.html">Torquebox (4)</a></li>
        
          <li><a href="/tags/rails.html">Rails (6)</a></li>
        
          <li><a href="/tags/jboss.html">JBoss (2)</a></li>
        
          <li><a href="/tags/couchdb.html">CouchDB (2)</a></li>
        
          <li><a href="/tags/nosql.html">NoSQL (1)</a></li>
        
          <li><a href="/tags/linux.html">Linux (1)</a></li>
        
          <li><a href="/tags/programming.html">Programming (1)</a></li>
        
          <li><a href="/tags/node-js.html">Node.js (1)</a></li>
        
          <li><a href="/tags/jpa.html">JPA (1)</a></li>
        
          <li><a href="/tags/spring.html">Spring (2)</a></li>
        
          <li><a href="/tags/capistrano.html">Capistrano (1)</a></li>
        
          <li><a href="/tags/akka.html">Akka (1)</a></li>
        
          <li><a href="/tags/jquery.html">jQuery (1)</a></li>
        
          <li><a href="/tags/puppet.html">Puppet (1)</a></li>
        
          <li><a href="/tags/devops.html">DevOps (1)</a></li>
        
          <li><a href="/tags/jboss.html">Jboss (1)</a></li>
        
          <li><a href="/tags/tomcat.html">Tomcat (1)</a></li>
        
          <li><a href="/tags/cloud.html">Cloud (1)</a></li>
        
          <li><a href="/tags/maven.html">Maven (1)</a></li>
        
          <li><a href="/tags/android.html">Android (1)</a></li>
        
          <li><a href="/tags/phonegap.html">Phonegap (1)</a></li>
        
          <li><a href="/tags/scrum.html">Scrum (1)</a></li>
        
      </ol>
    </div>
    <hr/>
  </div>
</div>

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-10309067-3']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  
  $(function() {
    $('.tags').hide();
    $("#show-tags").click(function() {
      $('.tags').toggle();
      $('.posts').toggle();
    });
    $("#show-posts").click(function() {
      $('.tags').toggle();
      $('.posts').toggle();
    });
  });
</script>
      </div>
    </div>
  </body>
</html>